define("Bezier",["require"],function(){function t(){var t=[].slice.call(arguments,0);if("[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),t.length%2)throw"coordinate count should be even.";this.points=[];for(var e=0;e<t.length;e+=2)this.points.push({x:t[e],y:t[e+1]});this.actualPoints=this.points.slice(0),this.actualPoints.unshift({x:0,y:0}),this.actualPoints.push({x:1,y:1}),this.sampleCache={},this.factorialCache={},this.order=this.actualPoints.length-1,this.splineSampleCount=11,this.splineSamples=[],this.splineInterval=1/(this.splineSampleCount-1),this.calcSplineSamples()}return t.consts={NEWTON_ITERATIONS:4,NEWTON_MIN_SLOPE:.001,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10},t.prototype.calcSplineSamples=function(){for(var t=0;t<this.splineSampleCount;t++)this.splineSamples[t]=this.getFromT(t*this.splineInterval)},t.prototype.get=function(t){var e=this.getTFromX(t);return this.getFromT(e).y},t.prototype.getTFromX=function(e){for(var r=0,n=0,i=1;i<this.splineSampleCount;i++)if(i===this.splineSampleCount-1||this.splineSamples[i].x>e){r=this.splineInterval*(i-1),n=i-1;break}var a=r+this.splineInterval*(e-this.splineSamples[n].x)/(this.splineSamples[n+1].x-this.splineSamples[n].x),o=this.getDerivativeFromT(a);return o.x>=t.consts.NEWTON_MIN_SLOPE?this.runNewtonRaphsonIterate(e,a):0==o.x?a:this.runBinarySubdivide(e,r,r+this.splineInterval)},t.prototype.runNewtonRaphsonIterate=function(e,r){for(var n=0;n<t.consts.NEWTON_ITERATIONS;n++){var i=this.getDerivativeFromT(r);if(0==i.x)return r;var a=this.getFromT(r).x-e;r-=a/i.x}return r},t.prototype.runBinarySubdivide=function(e,r,n){for(var i,a=0;a<t.consts.SUBDIVISION_MAX_ITERATIONS;a++){i=r+(n-r)/2;var o=this.getFromT(i).x-e;if(o<=t.consts.SUBDIVISION_PRECISION)return i;o>0?n=i:r=i}return i},t.prototype.getFromT=function(t){for(var e=this.getCoefficients(),r=0,n=0,i=this.order,a=0;i>=a;a++)r+=e[a].x*Math.pow(t,a),n+=e[a].y*Math.pow(t,a);return{x:r,y:n}},t.prototype.getCoefficients=function(){if(this.coefficients)return this.coefficients;var t=this.order;this.coefficients=[];for(var e=0;t>=e;e++){for(var r=0,n=0,i=0;e>=i;i++){var a=Math.pow(-1,i+e)/(this.getFactorial(i)*this.getFactorial(e-i));r+=a*this.actualPoints[i].x,n+=a*this.actualPoints[i].y}var o=this.getFactorial(t)/this.getFactorial(t-e);this.coefficients.push({x:o*r,y:o*n})}return this.coefficients},t.prototype.getFactorial=function(t){return this.factorialCache[t]?this.factorialCache[t]:0===t?1:(this.factorialCache[t]=t*this.getFactorial(t-1),this.factorialCache[t])},t.prototype.getDerivativeFromT=function(t){for(var e=this.getCoefficients(),r=0,n=0,i=this.order,a=1;i>=a;a++)r+=a*e[a].x*Math.pow(t,a-1),n+=a*e[a].y*Math.pow(t,a-1);return{x:r,y:n}},t.prototype.getSamples=function(t){if(this.sampleCache[t])return this.sampleCache[t];for(var e=[],r=0;t>r;r++)e.push(this.get(r/(t-1)));this.sampleCache[t]=e},t.prototype.getEasing=function(){var t=this;return function(e){return t.get(e)}},t}),define("WaveFragment",["require","./Bezier"],function(t){var e={Quad:function(t){return t*t},Cubic:function(t){return t*t*t},Quart:function(t){return t*t*t*t},Qunit:function(t){return t*t*t*t*t},Expo:function(t){return t*t*t*t*t*t},Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Back:function(t){return t*t*(3*t-2)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Bounce:function(t){for(var e,r=4;t<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-t,2)}},r=t("./Bezier"),n={B2ToLinear:new r(0,.4,.2,.4,.4,.55).getEasing()};return{easeInCurves:e,fastInCurves:n}}),define("util",["require"],function(){return{repeat:function(t,e){var r=2*e-1;return function(e){var n=e*r,i=Math.floor(n),a=n-i,o=t(a);return i%2&&(o=1-o),o}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}}}),define("Wave",["require","./Bezier","./WaveFragment","./util"],function(t){function e(t){return this instanceof e?(this.value=t,void this.easing):e.make(t)}var r=t("./Bezier"),n={linear:function(t){return t},none:function(){return 0},full:function(){return 1},reverse:function(t){return 1-t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},i=t("./WaveFragment"),a=t("./util"),o=i.easeInCurves;for(var s in o){var u=o[s];n["easeIn"+s]=u,n["easeOut"+s]=a.reverse(u),n["easeInOut"+s]=a.reflect(u),n["easeOutIn"+s]=a.reflect(a.reverse(u))}var c=i.fastInCurves;for(var s in c){var u=c[s];n["fastIn"+s]=u,n["fastOut"+s]=a.reverse(u),n["fastInOut"+s]=a.reflect(u),n["fastOutIn"+s]=a.reflect(a.reverse(u))}var h={ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]};for(var s in h)n[s]=new r(h[s]).getEasing();return e.prototype.getEasing=function(){return this.easing||(this.easing=e.make(this.value)),this.easing},e.make=function(t){return"[object String]"===Object.prototype.toString.call(t)?n[t]||null:"[object Array]"===Object.prototype.toString.call(t)?new r(t).getEasing():"[object Function]"===Object.prototype.toString.call(t)?t:null},e.register=function(t,e){var r=wave(e);if(!r)throw"unregisterable";n[t]=r},e.getMap=function(){return n},e});