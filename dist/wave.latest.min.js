!function(t){var e,n,r;!function(t){function i(t,e){return x.call(t,e)}function o(t,e){var n,r,i,o,s,a,u,c,f,l,p=e&&e.split("/"),h=y.map,v=h&&h["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=p.concat(t.split("/")),c=0;c<t.length;c+=1)if(l=t[c],"."===l)t.splice(c,1),c-=1;else if(".."===l){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||v)&&h){for(n=t.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),p)for(f=p.length;f>0;f-=1)if(i=h[p.slice(0,f).join("/")],i&&(i=i[r])){o=i,s=c;break}if(o)break;!a&&v&&v[r]&&(a=v[r],u=c)}!o&&a&&(o=a,s=u),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function s(e,n){return function(){return h.apply(t,O.call(arguments,0).concat([e,n]))}}function a(t){return function(e){return o(e,t)}}function u(t){return function(e){I[t]=e}}function c(e){if(i(m,e)){var n=m[e];delete m[e],S[e]=!0,p.apply(t,n)}if(!i(I,e)&&!i(S,e))throw new Error("No "+e);return I[e]}function f(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function l(t){return function(){return y&&y.config&&y.config[t]||{}}}var p,h,v,g,I={},m={},y={},S={},x=Object.prototype.hasOwnProperty,O=[].slice;v=function(t,e){var n,r=f(t),i=r[0];return t=r[1],i&&(i=o(i,e),n=c(i)),i?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),r=f(t),i=r[0],t=r[1],i&&(n=c(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=I[t];return"undefined"!=typeof e?e:I[t]={}},module:function(t){return{id:t,uri:"",exports:I[t],config:l(t)}}},p=function(e,n,r,o){var a,f,l,p,h,y,x=[];if(o=o||e,"function"==typeof r){for(n=!n.length&&r.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(p=v(n[h],o),f=p.f,"require"===f)x[h]=g.require(e);else if("exports"===f)x[h]=g.exports(e),y=!0;else if("module"===f)a=x[h]=g.module(e);else if(i(I,f)||i(m,f)||i(S,f))x[h]=c(f);else{if(!p.p)throw new Error(e+" missing "+f);p.p.load(p.n,s(o,!0),u(f),{}),x[h]=I[f]}l=r.apply(I[e],x),e&&(a&&a.exports!==t&&a.exports!==I[e]?I[e]=a.exports:l===t&&y||(I[e]=l))}else e&&(I[e]=r)},e=n=h=function(e,n,r,i,o){return"string"==typeof e?g[e]?g[e](n):c(v(e,n).f):(e.splice||(y=e,n.splice?(e=n,n=r,r=null):e=t),n=n||function(){},"function"==typeof r&&(r=i,i=o),i?p(t,e,n,r):setTimeout(function(){p(t,e,n,r)},4),h)},h.config=function(t){return y=t,y.deps&&h(y.deps,y.callback),h},r=function(t,e,n){e.splice||(n=e,e=[]),i(I,t)||i(m,t)||(m[t]=[t,e,n])},r.amd={jQuery:!0}}(),r("Bezier",["require"],function(){function t(){var t=[].slice.call(arguments,0);if("[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),t.length%2)throw"coordinate count should be even.";this.points=[];for(var e=0;e<t.length;e+=2)this.points.push({x:t[e],y:t[e+1]});this.actualPoints=this.points.slice(0),this.actualPoints.unshift({x:0,y:0}),this.actualPoints.push({x:1,y:1}),this.sampleCache={},this.factorialCache={},this.order=this.actualPoints.length-1,this.splineSampleCount=11,this.splineSamples=[],this.splineInterval=1/(this.splineSampleCount-1),this.calcSplineSamples()}return t.consts={NEWTON_ITERATIONS:4,NEWTON_MIN_SLOPE:.001,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10},t.prototype.calcSplineSamples=function(){for(var t=0;t<this.splineSampleCount;t++)this.splineSamples[t]=this.getFromT(t*this.splineInterval)},t.prototype.get=function(t){var e=this.getTFromX(t);return this.getFromT(e).y},t.prototype.getTFromX=function(e){for(var n=0,r=0,i=1;i<this.splineSampleCount;i++)if(i===this.splineSampleCount-1||this.splineSamples[i].x>e){n=this.splineInterval*(i-1),r=i-1;break}var o=n+this.splineInterval*(e-this.splineSamples[r].x)/(this.splineSamples[r+1].x-this.splineSamples[r].x),s=this.getDerivativeFromT(o);return s.x>=t.consts.NEWTON_MIN_SLOPE?this.runNewtonRaphsonIterate(e,o):0==s.x?o:this.runBinarySubdivide(e,n,n+this.splineInterval)},t.prototype.runNewtonRaphsonIterate=function(e,n){for(var r=0;r<t.consts.NEWTON_ITERATIONS;r++){var i=this.getDerivativeFromT(n);if(0==i.x)return n;var o=this.getFromT(n).x-e;n-=o/i.x}return n},t.prototype.runBinarySubdivide=function(e,n,r){for(var i,o=0;o<t.consts.SUBDIVISION_MAX_ITERATIONS;o++){i=n+(r-n)/2;var s=this.getFromT(i).x-e;if(s<=t.consts.SUBDIVISION_PRECISION)return i;s>0?r=i:n=i}return i},t.prototype.getFromT=function(t){for(var e=this.getCoefficients(),n=0,r=0,i=this.order,o=0;i>=o;o++)n+=e[o].x*Math.pow(t,o),r+=e[o].y*Math.pow(t,o);return{x:n,y:r}},t.prototype.getCoefficients=function(){if(this.coefficients)return this.coefficients;var t=this.order;this.coefficients=[];for(var e=0;t>=e;e++){for(var n=0,r=0,i=0;e>=i;i++){var o=Math.pow(-1,i+e)/(this.getFactorial(i)*this.getFactorial(e-i));n+=o*this.actualPoints[i].x,r+=o*this.actualPoints[i].y}var s=this.getFactorial(t)/this.getFactorial(t-e);this.coefficients.push({x:s*n,y:s*r})}return this.coefficients},t.prototype.getFactorial=function(t){return this.factorialCache[t]?this.factorialCache[t]:0===t?1:(this.factorialCache[t]=t*this.getFactorial(t-1),this.factorialCache[t])},t.prototype.getDerivativeFromT=function(t){for(var e=this.getCoefficients(),n=0,r=0,i=this.order,o=1;i>=o;o++)n+=o*e[o].x*Math.pow(t,o-1),r+=o*e[o].y*Math.pow(t,o-1);return{x:n,y:r}},t.prototype.getSamples=function(t){if(this.sampleCache[t])return this.sampleCache[t];for(var e=[],n=0;t>n;n++)e.push(this.get(n/(t-1)));this.sampleCache[t]=e},t.prototype.getEasing=function(){var t=this;return function(e){return t.get(e)}},t}),r("WaveFragment",["require","./Bezier"],function(t){var e={Quad:function(t){return t*t},Cubic:function(t){return t*t*t},Quart:function(t){return t*t*t*t},Qunit:function(t){return t*t*t*t*t},Expo:function(t){return t*t*t*t*t*t},Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Back:function(t){return t*t*(3*t-2)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},n=t("./Bezier"),r={B2ToLinear:new n(0,.4,.2,.4,.4,.55).getEasing()};return{easeInCurves:e,fastInCurves:r}}),r("util",["require"],function(){return{repeat:function(t,e){var n=2*e-1;return function(e){var r=e*n,i=Math.floor(r),o=r-i,s=t(o);return i%2&&(s=1-s),s}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}}}),r("Wave",["require","./Bezier","./WaveFragment","./util"],function(t){function e(t){return this instanceof e?(this.value=t,void this.easing):e.make(t)}var n=t("./Bezier"),r={linear:function(t){return t},none:function(){return 0},full:function(){return 1},reverse:function(t){return 1-t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},i=t("./WaveFragment"),o=t("./util"),s=i.easeInCurves;for(var a in s){var u=s[a];r["easeIn"+a]=u,r["easeOut"+a]=o.reverse(u),r["easeInOut"+a]=o.reflect(u),r["easeOutIn"+a]=o.reflect(o.reverse(u))}var c=i.fastInCurves;for(var a in c){var u=c[a];r["fastIn"+a]=u,r["fastOut"+a]=o.reverse(u),r["fastInOut"+a]=o.reflect(u),r["fastOutIn"+a]=o.reflect(o.reverse(u))}var f={ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]};for(var a in f)r[a]=new n(f[a]).getEasing();return e.prototype.getEasing=function(){return this.easing||(this.easing=e.make(this.value)),this.easing},e.make=function(t){return"[object String]"===Object.prototype.toString.call(t)?r[t]||null:"[object Array]"===Object.prototype.toString.call(t)?new n(t).getEasing():"[object Function]"===Object.prototype.toString.call(t)?t:null},e.register=function(t,e){var n=wave(e);if(!n)throw"unregisterable";r[t]=n},e.getMap=function(){return r},e});var i=n("Wave");t.Wave=i}(window);